#!/bin/bash
# ðŸš€ NORTHBAYSTUDIOS.IO DEPLOYMENT SCRIPT
# Generated by THOR-AI Deployment Agent

echo "ðŸš€ THOR-AI Deployment Starting..."
echo "ðŸŒ Setting up Northbaystudios.io"

# Update system
echo "ðŸ“¦ Updating system packages..."
apt update && apt upgrade -y

# Install required packages
echo "ðŸ Installing Python and web server..."
apt install -y python3 python3-pip nginx ufw

# Install Flask
echo "âš¡ Installing Flask..."
pip3 install flask

# Create web directory
echo "ðŸ“ Creating web directory..."
mkdir -p /var/www/northbaystudios
cd /var/www/northbaystudios

# Create the website file
echo "ðŸ“„ Creating website..."
cat > app.py << 'EOF'
#!/usr/bin/env python3
from flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return '''
<!DOCTYPE html>
<html>
<head>
    <title>Northbay Studios - Gaming OS Development</title>
    <style>
        body { 
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #e5e5e5; 
            font-family: monospace; 
            text-align: center; 
            padding: 50px; 
        }
        .logo { 
            font-size: 3rem; 
            color: #00ff88; 
            margin-bottom: 20px; 
        }
        .status { 
            background: rgba(0,255,136,0.1); 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px auto; 
            max-width: 600px; 
        }
    </style>
</head>
<body>
    <div class="logo">ðŸŽ® NORTHBAY STUDIOS</div>
    <div class="status">
        <h2>ðŸš€ LIVE & READY!</h2>
        <p>Custom Gaming OS Development</p>
        <p>YOOPER Kernel â€¢ TRINITY AI â€¢ VOIP SMS</p>
        <p>âœ… Server Online â€¢ âœ… DNS Configured â€¢ âœ… Business Ready</p>
    </div>
    <p>Â© 2025 Northbay Studios - Gaming the Future</p>
</body>
</html>
    '''

@app.route('/health')
def health():
    return {'status': 'healthy', 'service': 'northbaystudios'}

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=80)
EOF

# Make executable
chmod +x app.py

# Configure nginx
echo "ðŸŒ Configuring nginx..."
cat > /etc/nginx/sites-available/northbaystudios << 'EOF'
server {
    listen 80;
    server_name northbaystudios.io www.northbaystudios.io 207.246.95.179;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
EOF

# Enable site
ln -sf /etc/nginx/sites-available/northbaystudios /etc/nginx/sites-enabled/
rm -f /etc/nginx/sites-enabled/default

# Configure firewall
echo "ðŸ”¥ Configuring firewall..."
ufw allow ssh
ufw allow 80
ufw allow 443
ufw --force enable

# Create systemd service
echo "âš™ï¸ Creating systemd service..."
cat > /etc/systemd/system/northbaystudios.service << 'EOF'
[Unit]
Description=Northbay Studios Website
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/var/www/northbaystudios
ExecStart=/usr/bin/python3 app.py
Restart=always

[Install]
WantedBy=multi-user.target
EOF

# Start services
echo "ðŸš€ Starting services..."
systemctl daemon-reload
systemctl enable northbaystudios
systemctl start northbaystudios
systemctl restart nginx

echo "âœ… DEPLOYMENT COMPLETE!"
echo "ðŸŒ Northbaystudios.io is now LIVE!"
echo "ðŸŽ® THOR-AI Mission Accomplished!"
